<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineAI - Netflix Style Movie Recommender</title>
    <link rel="stylesheet" href="netflix_style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🎬</text></svg>">
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">
        <nav class="nav">
            <a href="#" class="logo">CineAI</a>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#preferences">Preferences</a></li>
                <li><a href="#recommendations">Movies</a></li>
                <li><a href="#metrics">Metrics</a></li>
                <li><a href="#catalog" onclick="showCatalog()">Browse Catalog</a></li>
                <li><a href="#about">About</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content fade-in-up">
            <h1>Discover Your Next Favorite Movie</h1>
            <p>AI-powered recommendations using fuzzy logic and neural networks</p>
            <button class="cta-button" onclick="scrollToPreferences()">Get Started</button>
        </div>
    </section>

    <!-- Main -->
    <div class="container">
        <!-- System Status -->
        <div id="system-status" class="alert alert-success" style="display: none;">
            <span id="status-message">System ready</span>
        </div>

        <!-- Preferences Section -->
        <section class="preferences-section fade-in-up" id="preferences">
            <h2 class="section-title">🎭 Tell Us Your Movie Preferences</h2>
            
            <!-- Quick Presets -->
            <div class="presets-container">
                <button class="preset-btn" onclick="applyPreset('action')">🔥 Action Lover</button>
                <button class="preset-btn" onclick="applyPreset('comedy')">😂 Comedy Fan</button>
                <button class="preset-btn" onclick="applyPreset('drama')">🎭 Drama Enthusiast</button>
                <button class="preset-btn" onclick="applyPreset('scifi')">🚀 Sci-Fi Geek</button>
                <button class="preset-btn" onclick="applyPreset('horror')">👻 Horror Buff</button>
                <button class="preset-btn" onclick="applyPreset('romance')">💕 Romance Lover</button>
                <button class="preset-btn" onclick="applyPreset('adventure')">🗺️ Adventurer</button>
                <button class="preset-btn" onclick="applyPreset('mystery')">🔍 Mystery Solver</button>
                <button class="preset-btn" onclick="applyPreset('fantasy')">🧙 Fantasy World</button>
                <button class="preset-btn" onclick="applyPreset('animation')">🎨 Animation Fan</button>
                <button class="preset-btn" onclick="applyPreset('classic')">📽️ Classic Movies</button>
                <button class="preset-btn" onclick="applyPreset('modern')">🆕 Modern Hits</button>
            </div>
            
            <!-- Mood-Based Quick Selectors -->
            <div class="mood-selectors">
                <h3 class="mood-title">🎭 Choose Your Mood</h3>
                <div class="mood-buttons">
                    <button class="mood-btn" onclick="applyMood('chill')">😌 Chill & Relax</button>
                    <button class="mood-btn" onclick="applyMood('intense')">⚡ High Energy</button>
                    <button class="mood-btn" onclick="applyMood('emotional')">💭 Emotional Journey</button>
                    <button class="mood-btn" onclick="applyMood('family')">👨‍👩‍👧‍👦 Family Night</button>
                    <button class="mood-btn" onclick="applyMood('date')">💕 Date Night</button>
                    <button class="mood-btn" onclick="applyMood('solo')">🍿 Solo Viewing</button>
                    <button class="mood-btn" onclick="applyMood('brainy')">🧠 Intellectual</button>
                    <button class="mood-btn" onclick="applyMood('escapist')">🌟 Pure Escapism</button>
                </div>
            </div>

            <form id="preferences-form">
                <!-- Genre Preferences -->
                <div class="preferences-grid">
                    <div class="preference-item">
                        <label class="preference-label" for="action">🎬 Action</label>
                        <div class="slider-container">
                            <input type="range" id="action" name="action" min="1" max="10" value="5" class="slider">
                            <span class="slider-value" id="action-value">5</span>
                        </div>
                    </div>

                    <div class="preference-item">
                        <label class="preference-label" for="comedy">😂 Comedy</label>
                        <div class="slider-container">
                            <input type="range" id="comedy" name="comedy" min="1" max="10" value="5" class="slider">
                            <span class="slider-value" id="comedy-value">5</span>
                        </div>
                    </div>

                    <div class="preference-item">
                        <label class="preference-label" for="drama">🎭 Drama</label>
                        <div class="slider-container">
                            <input type="range" id="drama" name="drama" min="1" max="10" value="5" class="slider">
                            <span class="slider-value" id="drama-value">5</span>
                        </div>
                    </div>

                    <div class="preference-item">
                        <label class="preference-label" for="horror">👻 Horror</label>
                        <div class="slider-container">
                            <input type="range" id="horror" name="horror" min="1" max="10" value="5" class="slider">
                            <span class="slider-value" id="horror-value">5</span>
                        </div>
                    </div>

                    <div class="preference-item">
                        <label class="preference-label" for="romance">💕 Romance</label>
                        <div class="slider-container">
                            <input type="range" id="romance" name="romance" min="1" max="10" value="5" class="slider">
                            <span class="slider-value" id="romance-value">5</span>
                        </div>
                    </div>

                    <div class="preference-item">
                        <label class="preference-label" for="scifi">🚀 Sci-Fi</label>
                        <div class="slider-container">
                            <input type="range" id="scifi" name="scifi" min="1" max="10" value="5" class="slider">
                            <span class="slider-value" id="scifi-value">5</span>
                        </div>
                    </div>

                    <div class="preference-item">
                        <label class="preference-label" for="thriller">🔪 Thriller</label>
                        <div class="slider-container">
                            <input type="range" id="thriller" name="thriller" min="1" max="10" value="5" class="slider">
                            <span class="slider-value" id="thriller-value">5</span>
                        </div>
                    </div>

                    <div class="preference-item">
                        <label class="preference-label" for="fantasy">🧙 Fantasy</label>
                        <div class="slider-container">
                            <input type="range" id="fantasy" name="fantasy" min="1" max="10" value="5" class="slider">
                            <span class="slider-value" id="fantasy-value">5</span>
                        </div>
                    </div>

                    <div class="preference-item">
                        <label class="preference-label" for="adventure">🗺️ Adventure</label>
                        <div class="slider-container">
                            <input type="range" id="adventure" name="adventure" min="1" max="10" value="5" class="slider">
                            <span class="slider-value" id="adventure-value">5</span>
                        </div>
                    </div>

                    <div class="preference-item">
                        <label class="preference-label" for="crime">🔫 Crime</label>
                        <div class="slider-container">
                            <input type="range" id="crime" name="crime" min="1" max="10" value="5" class="slider">
                            <span class="slider-value" id="crime-value">5</span>
                        </div>
                    </div>

                    <div class="preference-item">
                        <label class="preference-label" for="mystery">🔍 Mystery</label>
                        <div class="slider-container">
                            <input type="range" id="mystery" name="mystery" min="1" max="10" value="5" class="slider">
                            <span class="slider-value" id="mystery-value">5</span>
                        </div>
                    </div>

                    <div class="preference-item">
                        <label class="preference-label" for="animation">🎨 Animation</label>
                        <div class="slider-container">
                            <input type="range" id="animation" name="animation" min="1" max="10" value="5" class="slider">
                            <span class="slider-value" id="animation-value">5</span>
                        </div>
                    </div>

                    <div class="preference-item">
                        <label class="preference-label" for="western">🤠 Western</label>
                        <div class="slider-container">
                            <input type="range" id="western" name="western" min="1" max="10" value="5" class="slider">
                            <span class="slider-value" id="western-value">5</span>
                        </div>
                    </div>
                </div>

                <!-- Advanced Preferences -->
                <div class="advanced-preferences">
                    <h3 class="preference-section-title">🎯 Advanced Preferences</h3>
                    
                    <div class="preferences-grid">
                        <div class="form-group">
                            <label class="form-label" for="watched-movies">🎥 Movies You've Watched (comma-separated)</label>
                            <input type="text" id="watched-movies" name="watched-movies" class="form-input" 
                                   placeholder="e.g., The Matrix, Inception, Pulp Fiction">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="num-recommendations">📊 Number of Recommendations</label>
                            <input type="number" id="num-recommendations" name="num-recommendations" 
                                   class="form-input" min="1" value="10" placeholder="Enter any number (unlimited!)">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="min-year">📅 Minimum Year</label>
                            <input type="number" id="min-year" name="min-year" 
                                   class="form-input" min="1900" max="2025" value="1990" 
                                   placeholder="e.g., 2000">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="max-year">📅 Maximum Year</label>
                            <input type="number" id="max-year" name="max-year" 
                                   class="form-input" min="1900" max="2025" value="2025" 
                                   placeholder="e.g., 2023">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="min-rating">⭐ Minimum Rating (1-10)</label>
                            <input type="number" id="min-rating" name="min-rating" 
                                   class="form-input" min="1" max="10" step="0.1" value="6.0" 
                                   placeholder="e.g., 7.5">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="popularity-weight">📈 Popularity Importance</label>
                            <select id="popularity-weight" name="popularity-weight" class="form-select">
                                <option value="low">Low - Show me hidden gems</option>
                                <option value="medium" selected>Medium - Balanced approach</option>
                                <option value="high">High - Popular movies only</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Content Filters -->
                    <div class="content-filters">
                        <h4 class="filter-title">🛡️ Content Filters</h4>
                        <div class="filter-checkboxes">
                            <label class="checkbox-label">
                                <input type="checkbox" id="family-friendly" name="family-friendly">
                                <span class="checkmark">👨‍👩‍👧‍👦</span> Family Friendly Only
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="no-violence" name="no-violence">
                                <span class="checkmark">☮️</span> Minimal Violence
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="subtitles-ok" name="subtitles-ok" checked>
                                <span class="checkmark">📝</span> Subtitled Movies OK
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="award-winners" name="award-winners">
                                <span class="checkmark">🏆</span> Award Winners Preferred
                            </label>
                        </div>
                    </div>

                    <!-- AI Engine Settings -->
                    <div class="ai-settings">
                        <h4 class="ai-title">🤖 AI Engine Settings</h4>
                        <div class="ai-controls">
                            <div class="form-group">
                                <label class="form-label" for="fuzzy-weight">🧠 Fuzzy Logic Weight</label>
                                <div class="slider-container">
                                    <input type="range" id="fuzzy-weight" name="fuzzy-weight" min="0" max="100" value="60" class="slider">
                                    <span class="slider-value" id="fuzzy-weight-value">60%</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="ann-weight">🔬 Neural Network Weight</label>
                                <div class="slider-container">
                                    <input type="range" id="ann-weight" name="ann-weight" min="0" max="100" value="40" class="slider">
                                    <span class="slider-value" id="ann-weight-value">40%</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="diversity">🎲 Recommendation Diversity</label>
                                <div class="slider-container">
                                    <input type="range" id="diversity" name="diversity" min="0" max="100" value="30" class="slider">
                                    <span class="slider-value" id="diversity-value">30%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div style="text-align: center; margin-top: 2rem;">
                    <button type="submit" class="btn btn-primary" id="get-recommendations">
                        🎯 Get My Recommendations
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="resetForm()">
                        🔄 Reset Preferences
                    </button>
                </div>
            </form>
        </section>

        <!-- Loading Section -->
        <div id="loading" class="loading" style="display: none;">
            <div class="spinner"></div>
            <p style="margin-left: 1rem;">Finding your perfect movies...</p>
        </div>

        <!-- Results Section -->
        <section id="recommendations" class="fade-in-up" style="display: none;">
            <h2 class="section-title">🍿 Your Personalized Recommendations</h2>
            
            <!-- Sort Controls -->
            <div style="text-align: center; margin-bottom: 2rem;">
                <select id="sort-options" class="form-input" style="width: auto; display: inline-block;">
                    <option value="score">Sort by Overall Score</option>
                    <option value="fuzzy_score">Sort by Fuzzy Logic Score</option>
                    <option value="ann_score">Sort by Neural Network Score</option>
                    <option value="title">Sort by Title</option>
                    <option value="year">Sort by Year</option>
                </select>
                <button class="btn btn-secondary" onclick="exportResults()" style="margin-left: 1rem;">
                    💾 Export Results
                </button>
            </div>

            <!-- Movies Grid -->
            <div id="movies-grid" class="movies-grid"></div>
        </section>

        <!-- Metrics Section -->
        <section id="metrics" class="fade-in-up" style="display: none;">
            <h2 class="section-title">📈 System Metrics & Performance</h2>
            
            <!-- System Status -->
            <div class="system-status" id="system-status-display">
                <div class="status-item">
                    <span class="status-indicator" id="api-status">🔴</span>
                    <span>API Server</span>
                </div>
                <div class="status-item">
                    <span class="status-indicator" id="fuzzy-status">🔴</span>
                    <span>Fuzzy Engine</span>
                </div>
                <div class="status-item">
                    <span class="status-indicator" id="ann-status">🔴</span>
                    <span>Neural Network</span>
                </div>
            </div>

            <div class="metrics-grid">
                <div class="metric-card">
                    <h3>📊 Dataset Coverage</h3>
                    <p class="metric-value" id="metric-dataset-size">Loading...</p>
                    <p class="metric-caption">Movies • Ratings • Users</p>
                    <div class="metric-detail" id="metric-top-genres"></div>
                </div>
                
                <div class="metric-card">
                    <h3>🤖 Neural Network Performance</h3>
                    <p class="metric-value" id="metric-ann-mae">MAE: --</p>
                    <p class="metric-caption">Mean Absolute Error</p>
                    <div class="metric-detail" id="metric-ann-details"></div>
                </div>
                
                <div class="metric-card">
                    <h3>🧠 Fuzzy Logic Engine</h3>
                    <p class="metric-value" id="metric-fuzzy-rules">47 Rules</p>
                    <p class="metric-caption">Expert Rules Active</p>
                    <div class="metric-detail" id="metric-fuzzy-details"></div>
                </div>
                
                <div class="metric-card">
                    <h3>⚡ Performance Stats</h3>
                    <p class="metric-value" id="metric-response-time">-- ms</p>
                    <p class="metric-caption">Average Response Time</p>
                    <div class="metric-detail" id="metric-performance-details"></div>
                </div>
                
                <div class="metric-card">
                    <h3>🎯 Hybrid Agreement</h3>
                    <p class="metric-value" id="metric-agreement">--%</p>
                    <p class="metric-caption">Fuzzy vs ANN Consensus</p>
                    <div class="metric-detail" id="metric-agreement-details"></div>
                </div>
                
                <div class="metric-card">
                    <h3>🎬 Model Architecture</h3>
                    <p class="metric-value" id="metric-model-params">3,905</p>
                    <p class="metric-caption">Neural Network Parameters</p>
                    <div class="metric-detail" id="metric-architecture-details"></div>
                </div>
            </div>

            <!-- Performance Chart Placeholder -->
            <div class="chart-container" id="performance-chart">
                <h3>📈 Real-time Performance Monitor</h3>
                <div class="chart-placeholder">
                    <p>Performance visualization will be displayed here</p>
                    <div class="chart-stats" id="chart-stats">
                        <div class="stat-item">
                            <span class="stat-label">Requests:</span>
                            <span class="stat-value" id="total-requests">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Avg Score:</span>
                            <span class="stat-value" id="avg-score">--</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Top Strategy:</span>
                            <span class="stat-value" id="top-strategy">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
                <div class="metric-card">
                    <h3>Hybrid Recommendations</h3>
                    <p class="metric-value" id="metric-hybrid-agreement">Agreement: --</p>
                    <p class="metric-caption">Adaptive Strategies & Confidence</p>
                    <div class="metric-detail" id="metric-hybrid-details"></div>
                </div>
            </div>
        </section>

        <!-- Movie Catalog Section -->
        <section id="catalog" class="fade-in-up" style="display: none;">
            <h2 class="section-title">🎬 Browse Movie Catalog</h2>
            
            <!-- Catalog Filters -->
            <div style="background: var(--netflix-dark-gray); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
                <div class="preferences-grid">
                    <div class="form-group">
                        <label class="form-label">Sort By</label>
                        <select id="catalog-sort" class="form-input">
                            <option value="popularity">Popularity</option>
                            <option value="title">Title (A-Z)</option>
                            <option value="year">Year (Newest)</option>
                            <option value="rating">Rating (Highest)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Genre Filter</label>
                        <select id="catalog-genre" class="form-input">
                            <option value="">All Genres</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Year Range</label>
                        <div style="display: flex; gap: 0.5rem;">
                            <input type="number" id="catalog-year-min" class="form-input" placeholder="From" min="1900" max="2030">
                            <input type="number" id="catalog-year-max" class="form-input" placeholder="To" min="1900" max="2030">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Min Rating</label>
                        <input type="number" id="catalog-rating-min" class="form-input" min="0" max="5" step="0.1" placeholder="0.0">
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 1rem;">
                    <button class="btn btn-primary" onclick="loadCatalog(1)">🔍 Apply Filters</button>
                    <button class="btn btn-secondary" onclick="clearCatalogFilters()">🗑️ Clear Filters</button>
                </div>
            </div>
            
            <!-- Catalog Stats -->
            <div id="catalog-stats" style="text-align: center; margin-bottom: 2rem; color: var(--netflix-text-gray);"></div>
            
            <!-- Catalog Grid -->
            <div id="catalog-grid" class="movies-grid"></div>
            
            <!-- Pagination -->
            <div id="catalog-pagination" style="text-align: center; margin-top: 2rem;"></div>
        </section>

        <!-- About Section -->
        <section id="about" class="fade-in-up" style="margin-top: 4rem;">
            <h2 class="section-title">🤖 About CineAI</h2>
            <div class="about-grid">
                <div class="about-card">
                    <h3>Hybrid Intelligence</h3>
                    <p>We combine the strengths of fuzzy logic (expert rules) and neural networks (learned patterns from 10M MovieLens ratings) to deliver balanced, explainable movie recommendations.</p>
                </div>
                <div class="about-card">
                    <h3>Real Data, Real Models</h3>
                    <p>Our ANN is trained on 10,000,054 real user ratings across 69,878 users and 10,681 movies. The fuzzy engine uses 47 handcrafted rules across 7 core genres to keep recommendations human-readable.</p>
                </div>
                <div class="about-card">
                    <h3>Transparent Insights</h3>
                    <p>Every recommendation highlights fuzzy vs ANN scores, agreement levels, and strategy used so you can understand how CineAI made its choices.</p>
                </div>
                <div class="about-card">
                    <h3>API Ready</h3>
                    <p>Expose recommendations via our FastAPI service and integrate CineAI into websites, mobile apps, or data workflows with ease.</p>
                </div>
            </div>
        </section>

        <!-- Error Section -->
        <div id="error-message" class="alert alert-error" style="display: none;">
            <span id="error-text">An error occurred</span>
        </div>
    </div>

    <!-- Movie Details Modal -->
    <div id="movie-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="modal-content"></div>
        </div>
    </div>

    <!-- Footer -->
    <footer style="background: var(--netflix-dark-gray); padding: 2rem; text-align: center; margin-top: 4rem;">
        <p style="color: var(--netflix-text-gray);">
            © 2024 CineAI - Powered by Fuzzy Logic & Neural Networks
        </p>
    </footer>

    <script src="app_netflix.js"></script>
</body>
</html>
